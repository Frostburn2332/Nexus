# =============================================================================
# Nexus Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values.
# Never commit .env to version control.
# =============================================================================

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql+asyncpg://nexus:nexus_password@localhost:5432/nexus
POSTGRES_USER=nexus
POSTGRES_PASSWORD=nexus_password
POSTGRES_DB=nexus

# -----------------------------------------------------------------------------
# Google OAuth 2.0
# -----------------------------------------------------------------------------
# Create credentials at https://console.cloud.google.com/apis/credentials
# Register BOTH of these as Authorized Redirect URIs in Google Cloud Console:
#   Local:      http://localhost:8000/auth/callback
#   Production: https://<your-vercel-app>.vercel.app/api/auth/callback
#
# Use the Vercel proxy URL for production (not the Render URL directly).
# The proxy ensures Set-Cookie is issued under the vercel.app domain so the
# browser sends the httpOnly refresh cookie back on subsequent requests.
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/auth/callback

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------
# Generate a secure secret: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET_KEY=your-jwt-secret-key-change-this
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# Email Provider
# -----------------------------------------------------------------------------
# Options: "console" (logs to stdout) | "gmail" (Gmail App Password, port 587) | "neo" (Neo SMTP_SSL, port 465)
EMAIL_PROVIDER=gmail

# --- GMAIL CONFIG (recommended) ---
# Use port 587 with STARTTLS + a 16-char Google App Password.
# Generate App Password at: https://myaccount.google.com/apppasswords
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-gmail@gmail.com
MAIL_PASSWORD=xxxx xxxx xxxx xxxx
MAIL_FROM=your-gmail@gmail.com

# --- NEO CONFIG (alternative) ---
# MAIL_SERVER=smtp0001.neo.space
# MAIL_PORT=465
# MAIL_USERNAME=admin@your-domain.co.site
# MAIL_PASSWORD=your_neo_password
# MAIL_FROM=admin@your-domain.co.site

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
# Local dev: APP_ENV=development, VITE_API_URL=http://localhost:8000
# Production (Render): APP_ENV=production, VITE_API_URL=/api
#   VITE_API_URL=/api routes through the Vercel proxy so httpOnly cookies are
#   sent same-origin. Never point VITE_API_URL directly at the Render URL in
#   production â€” the browser will block the httpOnly cookie on cross-site POSTs.
APP_ENV=development
BACKEND_URL=http://localhost:8000
FRONTEND_URL=http://localhost:5173
VITE_API_URL=http://localhost:8000
